$(document).ready(function(){function t(){a(),n(),c(),e()}function a(){10>=i?$("body").css("background-image","url(img/bg_snow.jpg)"):i>10&&35>i?$("body").css("background-image","url(img/bg_island.jpg)"):35>=i&&$("body").css("background-image","url(img/bg_uluru.jpg)")}function e(){$("span#location").html(l+", "+d)}function n(){"celsius"===$(".cur_temp_container").attr("data-type")?$("span#cur_temp").html(i):$("span#cur_temp").html(o)}function c(){switch(_){case"Partly Cloudy":$("span#weather_desc_icon").html('<img src="img/ico/partly_cloudy.png"/>');break;default:$("span#weather_desc_icon").html('<img src="img/ico/partly_cloudy.png"/>')}$("span#weather_desc").html(_)}function r(a){var e="d060d9a458282c529617511582913",n=1,c="http://api.worldweatheronline.com/premium/v1/weather.ashx?q="+a+"&key="+e+"&format=json&no_of_days="+n+"&includeLocation=yes";c=encodeURI(c),$.get(c,function(a){l=a.data.nearest_area[0].region[0].value,d=a.data.nearest_area[0].country[0].value,p=a.data.weather[0].maxtempF,o=a.data.current_condition[0].temp_F,s=a.data.weather[0].mintempF,m=a.data.weather[0].maxtempC,i=a.data.current_condition[0].temp_C,u=a.data.weather[0].mintempC,_=a.data.current_condition[0].weatherDesc[0].value,t()},"json")}var i=0,o=0,u=0,s=0,m=0,p=0,d="",l="",_="";$.ajax({url:"http://jsonip.com",type:"GET",success:function(t){r(t.ip)}}),$(".cur_temp_container").click(function(){"celsius"===$(".cur_temp_container").attr("data-type")?($(this).attr("data-type","fahrenheit"),$("span#cur_temp").html(o)):($(this).attr("data-type","celsius"),$("span#cur_temp").html(i))})});